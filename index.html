<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ° ëŸ­í‚¤ ë„˜ë²„ ì¹´ì§€ë…¸ ONLINE</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #222; color: white; }
        #game-container { margin-top: 20px; }
        .player { margin: 10px; padding: 10px; border: 2px solid #fff; display: inline-block; width: 40%; background: rgba(255, 255, 255, 0.2); border-radius: 10px; }
        .chips { font-size: 20px; font-weight: bold; }
        .cards { font-size: 24px; margin-top: 10px; }
        input { margin: 5px; padding: 5px; font-size: 16px; width: 100px; }
        button { margin-top: 10px; padding: 8px 15px; font-size: 16px; background: #ff9800; color: white; border: none; cursor: pointer; border-radius: 5px; }
        button:hover { background: #f57c00; }
    </style>
</head>
<body>

<h1>ğŸ° ëŸ­í‚¤ ë„˜ë²„ ì¹´ì§€ë…¸ ONLINE ğŸ°</h1>

<p id="status">ğŸ”„ ëŒ€ê¸° ì¤‘...</p>

<div id="game-container">
    <button id="startGameBtn" onclick="startGame()" style="display: none;">ğŸš€ ê²Œì„ ì‹œì‘!</button>
    <div class="player" id="player">
        <h2>ğŸƒ ë‚´ ì¹´ë“œ</h2>
        <p class="chips">ì¹©: <span id="chips">10000</span></p>
        <p class="cards" id="myCards">ì¹´ë“œ ëŒ€ê¸° ì¤‘...</p>
        <input type="number" id="bet" placeholder="ë² íŒ… ì¹© (100~5000)" min="100" max="5000">
        <br>
        <button onclick="placeBet()">ğŸ² ë² íŒ…í•˜ê¸°!</button>
    </div>
</div>

<script>
    const socket = new WebSocket("wss://yourappname.onrender.com"); // ì„œë²„ ì£¼ì†Œ ë³€ê²½

    socket.onopen = function() {
        console.log("ì„œë²„ì— ì—°ê²°ë¨");
        socket.send(JSON.stringify({ type: "joinGame" }));  // ì„œë²„ì— ê²Œì„ ì°¸ê°€ ìš”ì²­
    };

    socket.onmessage = function(event) {
        const data = JSON.parse(event.data);

        if (data.type === "assignCards") {
            document.getElementById("myCards").innerText = `ğŸƒ ${data.cards[0]} | ${data.cards[1]}`;
        } else if (data.type === "waiting") {
            document.getElementById("status").innerText = "ğŸ•’ ìƒëŒ€ë°©ì„ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘...";
        } else if (data.type === "readyToStart") {
            document.getElementById("status").innerText = "âœ… ë‘ ëª…ì´ ì ‘ì†í–ˆìŠµë‹ˆë‹¤!";
            document.getElementById("startGameBtn").style.display = "block";  // ê²Œì„ ì‹œì‘ ë²„íŠ¼ í™œì„±í™”
        } else if (data.type === "gameStart") {
            document.getElementById("status").innerText = "ğŸš€ ê²Œì„ ì‹œì‘!";
            document.getElementById("startGameBtn").style.display = "none";  // ì‹œì‘ ë²„íŠ¼ ìˆ¨ê¹€
        } else if (data.type === "gameResult") {
            document.getElementById("status").innerText = `ğŸ† ê²°ê³¼: ${data.message}`;
        }
    };

    function startGame() {
        socket.send(JSON.stringify({ type: "startGame" }));  // ì„œë²„ì— ê²Œì„ ì‹œì‘ ìš”ì²­
    }

    function placeBet() {
        let betAmount = parseInt(document.getElementById("bet").value);
        if (isNaN(betAmount) || betAmount < 100 || betAmount > 5000) {
            alert("ì˜¬ë°”ë¥¸ ë² íŒ… ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”!");
            return;
        }

        socket.send(JSON.stringify({ type: "bet", amount: betAmount }));
    }
</script>

</body>
</html>
